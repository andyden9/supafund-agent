(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[622],{70634:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onramp",function(){return r(46251)}])},92209:function(e,t,r){"use strict";r.d(t,{q:function(){return s}});var n=r(67294),a=r(61320);let s=()=>{let e=(0,n.useContext)(a.A);if(!e)throw Error("useOnRampContext must be used within OnRampProvider");return e}},46251:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(85893),a=r(11163),s=r(2516),i=r(70020),u=r(67294),o=r(26026),d=r(46134),c=r(62051),l=r(92209),f=r(46046),h=r(58892);let m=e=>{let{usdAmountToPay:t}=e,{onRampWindow:r,logEvent:a}=(0,c.Z)(),{networkName:m,cryptoCurrencyCode:v}=(0,l.q)(),{masterEoa:_}=(0,f.Q)(),w=(0,u.useRef)(null);(0,u.useEffect)(()=>{var e;let t=null===(e=w.current)||void 0===e?void 0:e.contentWindow,n=e=>{if(e.source===t&&e.data&&e.data.event_id){if(null==a||a("Transak event: ".concat(JSON.stringify(e.data.event_id))),"TRANSAK_WIDGET_CLOSE"===e.data.event_id){var n;null==r||null===(n=r.close)||void 0===n||n.call(r)}"TRANSAK_ORDER_FAILED"===e.data.event_id&&(0,h.a)(3).then(()=>{var e;null==r||null===(e=r.transactionFailure)||void 0===e||e.call(r)})}};return window.addEventListener("message",n),()=>window.removeEventListener("message",n)},[a,r]);let p=(0,u.useMemo)(()=>{if(!(null==_?void 0:_.address)||!m||!v)return;let e=new URL(o.Kg);return e.searchParams.set("productsAvailed","BUY"),e.searchParams.set("paymentMethod","credit_debit_card"),e.searchParams.set("network",m),e.searchParams.set("cryptoCurrencyCode",v),e.searchParams.set("fiatCurrency","USD"),e.searchParams.set("fiatAmount",String(t)),e.searchParams.set("walletAddress",_.address),e.searchParams.set("hideMenu","true"),e.toString()},[_,m,v,t]);return(0,n.jsx)(s.Z,{justify:"center",align:"center",vertical:!0,style:{overflow:"hidden",height:"calc(".concat(d.zd,"px - 45px)"),width:d.$_},children:p?(0,n.jsx)("iframe",{src:p,ref:w,id:"transak-iframe",style:{width:"100%",height:"100%",border:"none"},allow:"camera;microphone;payment"}):(0,n.jsx)(i.Z,{})})};function v(){let{amount:e}=(0,a.useRouter)().query,t=e?Number(e):void 0;return t?(0,n.jsx)(m,{usdAmountToPay:t}):null}}},function(e){e.O(0,[20,888,774,179],function(){return e(e.s=70634)}),_N_E=e.O()}]);